import{_ as e,u as a,s as o,t as l,o as t,i as s,a as n,b as i,j as r,w as c,f as d,e as u,d as h,v as m,x as p,F as v,l as f}from"./index-4ecef098.js";import{_ as g}from"./whatsapp-19b64c33.js";import{d as w}from"./request-7f65aa05.js";const _=""+new URL("quit-3cb84461.svg",import.meta.url).href,k=""+new URL("index-0acd3fb4.svg",import.meta.url).href,b={class:"nav-container"},x=["onClick"],I=["src"],S=e({__name:"Index",setup(e){const S=a(),j=o(),y="controller.window.hideWindow",C="controller.window.logout",L="controller.window.changeSidebarWidth",q="controller.window.changeSidebarLayout",z=[{id:"home",icon:k,path:"/home"},{id:"whatsApp",icon:g,path:"/home/whatsapp"}],A=f("home"),K=()=>{const e=j.path;"/home"===e||"/home/"===e?A.value="home":e.includes("whatsapp")?A.value="whatsApp":e.includes("zalo")?A.value="zalo":e.includes("telegramK")?A.value="telegramK":e.includes("telegram")?A.value="telegram":A.value=""};function P(){w("/app/account/logout").then(e=>{200===e.code&&s.invoke(C,{}).then(()=>{localStorage.removeItem("box-token"),localStorage.removeItem("userInfo"),S.push("/login")})}).catch(e=>{console.error("退出失败:",e)})}return l(()=>j.path,()=>{K()}),t(()=>{K(),s.invoke(q,{isPlacedTop:!1})}),(e,a)=>{const o=n("el-icon"),l=n("el-aside"),t=n("router-view"),f=n("el-main"),g=n("el-container");return i(),r(g,{style:{height:"100vh"}},{default:c(()=>[d(l,{width:"50px",class:"aside-menu"},{default:c(()=>[u("div",b,[(i(),h(v,null,m(z,e=>u("div",{key:e.id,class:p(["nav-item",{active:A.value===e.id}]),onClick:a=>function(e){if(A.value===e)return;s.invoke(y,{platform:e}),s.invoke(L,{isShrunk:!1}),s.invoke(q,{isPlacedTop:!1});const a=z.find(a=>a.id===e);a&&S.push(a.path)}(e.id)},[d(o,null,{default:c(()=>[u("img",{src:e.icon,class:"platform-svg",draggable:"false"},null,8,I)]),_:2},1024)],10,x)),64))]),u("div",{class:"logout-button",onClick:P},[d(o,null,{default:c(()=>[...a[0]||(a[0]=[u("img",{src:_,class:"platform-svg",draggable:"false"},null,-1)])]),_:1})])]),_:1}),d(g,null,{default:c(()=>[d(f,{style:{padding:"0",overflow:"hidden"}},{default:c(()=>[d(t)]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-53045dac"]]);export{S as default};
