import{_ as e,u as l,o as s,i as a,a as o,b as t,d as i,e as n,F as c,t as d,z as r,E as f,R as m,f as v,w as u,D as g,k as p,r as b,v as h,j as V,p as w}from"./index-34b18419.js";import{_ as C}from"./whatsapp-19b64c33.js";import{N as T}from"./notification-d9d4cb52.js";import{g as k}from"./request-d58aadd4.js";import{t as y}from"./translate-3857ea3a.js";const L={class:"settings-page"},_={class:"settings-content"},U={class:"settings-sidebar"},A=["onClick"],j=["src"],N={class:"settings-main"},S={key:0,class:"translate-config"},O={class:"config-body"},B={class:"config-form"},J={class:"config-section"},I={class:"section-tag"},M={class:"section-content"},P={class:"form-item"},x={key:0,class:"form-row"},z={class:"form-col"},q={class:"form-col"},D={class:"form-item"},E={class:"form-item"},F={class:"form-item"},R={class:"config-section"},W={class:"section-tag"},G={class:"section-content"},H={class:"form-item"},K={class:"form-row"},Q={class:"form-col"},X={class:"form-col"},Y={class:"config-section"},Z={class:"section-tag"},$={class:"section-content"},ee={class:"form-item"},le={class:"form-actions"},se=e({__name:"TranslateSettings",setup(e){l();const se=p([{id:"translate",title:"翻译设置",icon:y}]),ae=p("translate"),oe=b({send:!0,receive:!0,chatList:!0,forward:!0}),te=b({sendAutoTranslate:!0,sendChannel:"Baidu",sendTargetLang:"en",translatePreview:!1,blockChineseMessage:!1,blockChineseTranslation:!0,receiveAutoTranslate:!0,receiveChannel:"Baidu",receiveTargetLang:"zh",showTranslateConfig:!0}),ie=p([]);s(()=>{k("/app/languageList/languageList").then(e=>{200===e.code&&(ie.value=e.data)}).catch(e=>{console.error("获取语言列表失败:",e)}),a.invoke("get-translate-config").then(e=>{if(e)Object.assign(te,e);else{const e=localStorage.getItem("translateConfig");e&&Object.assign(te,JSON.parse(e))}})});const ne=e=>{oe[e]=!oe[e]},ce=e=>{e&&(te.sendAutoTranslate=!0)},de=()=>{console.log("翻译配置config",te),localStorage.setItem("translateConfig",JSON.stringify(te)),a.invoke("save-translate-config",JSON.parse(JSON.stringify(te))).then(e=>{console.log("配置已同步到主进程:",e)}),T.message({message:"更新成功",type:"success"})};return(e,l)=>{const s=o("el-switch"),a=o("el-option"),p=o("el-select"),b=o("el-button");return t(),i("div",L,[l[29]||(l[29]=n("div",{class:"settings-header"},[n("span",{class:"header-title"},"设置")],-1)),n("div",_,[n("div",U,[(t(!0),i(c,null,d(se.value,e=>(t(),i("div",{key:e.id,class:h(["sidebar-item",{active:ae.value===e.id}]),onClick:l=>ae.value=e.id},[n("img",{src:e.icon,class:"sidebar-icon"},null,8,j),n("span",null,r(e.title),1)],10,A))),128))]),n("div",N,["translate"===ae.value?(t(),i("div",S,[l[28]||(l[28]=n("div",{class:"config-header"},[n("h3",null,"翻译配置"),n("p",{class:"config-desc"},"以下设置将作为全局翻译配置")],-1)),n("div",O,[l[27]||(l[27]=n("div",{class:"platform-list"},[n("div",{class:"platform-title"},"翻译配置"),n("div",{class:"platform-item active"},[n("img",{src:C,class:"platform-icon"}),n("span",null,"WhatsApp")])],-1)),n("div",B,[n("div",J,[n("div",{class:"section-header",onClick:l[0]||(l[0]=e=>ne("send"))},[l[13]||(l[13]=n("span",{class:"section-title"},"发送翻译设置",-1)),n("span",I,r(oe.send?"折叠":"展开"),1)]),f(n("div",M,[n("div",P,[l[14]||(l[14]=n("div",{class:"form-item-left"},[n("div",{class:"form-label"},[n("span",{class:"label-dot"}),n("span",null,"发送自动翻译")]),n("div",{class:"form-desc"},"发送时是否自动翻译成目标语言")],-1)),v(s,{modelValue:te.sendAutoTranslate,"onUpdate:modelValue":l[1]||(l[1]=e=>te.sendAutoTranslate=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),te.sendAutoTranslate?(t(),i("div",x,[n("div",z,[l[15]||(l[15]=n("div",{class:"form-label"},"翻译通道",-1)),v(p,{modelValue:te.sendChannel,"onUpdate:modelValue":l[2]||(l[2]=e=>te.sendChannel=e),disabled:"",placeholder:"请选择"},{default:u(()=>[v(a,{label:"百度",value:"Baidu"})]),_:1},8,["modelValue"])]),n("div",q,[l[16]||(l[16]=n("div",{class:"form-label"},"目标语言",-1)),v(p,{modelValue:te.sendTargetLang,"onUpdate:modelValue":l[3]||(l[3]=e=>te.sendTargetLang=e),placeholder:"请选择"},{default:u(()=>[(t(!0),i(c,null,d(ie.value,e=>(t(),V(a,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])):g("",!0),n("div",D,[l[17]||(l[17]=n("div",{class:"form-item-left"},[n("div",{class:"form-label"},"翻译预览"),n("div",{class:"form-desc"},"发送前在输入框上方显示译文")],-1)),v(s,{modelValue:te.translatePreview,"onUpdate:modelValue":l[4]||(l[4]=e=>te.translatePreview=e),onChange:ce,style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),n("div",E,[l[18]||(l[18]=n("div",{class:"form-item-left"},[n("div",{class:"form-label"},"禁止发送含中文的消息"),n("div",{class:"form-desc"},"开启后禁止发送中文消息，禁止发送")],-1)),v(s,{modelValue:te.blockChineseMessage,"onUpdate:modelValue":l[5]||(l[5]=e=>te.blockChineseMessage=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),n("div",F,[l[19]||(l[19]=n("div",{class:"form-item-left"},[n("div",{class:"form-label"},"禁止发送含中文的翻译"),n("div",{class:"form-desc"},"当翻译结果包含中文时，禁止发送")],-1)),v(s,{modelValue:te.blockChineseTranslation,"onUpdate:modelValue":l[6]||(l[6]=e=>te.blockChineseTranslation=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])])],512),[[m,oe.send]])]),n("div",R,[n("div",{class:"section-header",onClick:l[7]||(l[7]=e=>ne("receive"))},[l[20]||(l[20]=n("span",{class:"section-title"},"消息接收设置",-1)),n("span",W,r(oe.receive?"折叠":"展开"),1)]),f(n("div",G,[n("div",H,[l[21]||(l[21]=n("div",{class:"form-item-left"},[n("div",{class:"form-label"},[n("span",{class:"label-dot"}),n("span",null,"接收自动翻译")]),n("div",{class:"form-desc"},"收到消息时自动翻译成目标语言")],-1)),v(s,{modelValue:te.receiveAutoTranslate,"onUpdate:modelValue":l[8]||(l[8]=e=>te.receiveAutoTranslate=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),n("div",K,[n("div",Q,[l[22]||(l[22]=n("div",{class:"form-label"},"翻译通道",-1)),v(p,{modelValue:te.receiveChannel,"onUpdate:modelValue":l[9]||(l[9]=e=>te.receiveChannel=e),disabled:"",placeholder:"请选择"},{default:u(()=>[v(a,{label:"百度",value:"Baidu"})]),_:1},8,["modelValue"])]),n("div",X,[l[23]||(l[23]=n("div",{class:"form-label"},"目标语言",-1)),v(p,{modelValue:te.receiveTargetLang,"onUpdate:modelValue":l[10]||(l[10]=e=>te.receiveTargetLang=e),placeholder:"请选择"},{default:u(()=>[(t(!0),i(c,null,d(ie.value,e=>(t(),V(a,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])],512),[[m,oe.receive]])]),n("div",Y,[n("div",{class:"section-header",onClick:l[11]||(l[11]=e=>ne("chatList"))},[l[24]||(l[24]=n("span",{class:"section-title"},"聊天列表翻译",-1)),n("span",Z,r(oe.chatList?"折叠":"展开"),1)]),f(n("div",$,[n("div",ee,[l[25]||(l[25]=n("div",{class:"form-item-left"},[n("div",{class:"form-label"},"会话列表显示翻译配置"),n("div",{class:"form-desc"},"在聊天窗口上显示和切换翻译语言")],-1)),v(s,{modelValue:te.showTranslateConfig,"onUpdate:modelValue":l[12]||(l[12]=e=>te.showTranslateConfig=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])])],512),[[m,oe.chatList]])]),n("div",le,[v(b,{type:"primary",class:"apply-btn",onClick:de},{default:u(()=>[...l[26]||(l[26]=[w("应用",-1)])]),_:1})])])])])):g("",!0)])])])}}},[["__scopeId","data-v-0af3ad6d"]]);export{se as default};
