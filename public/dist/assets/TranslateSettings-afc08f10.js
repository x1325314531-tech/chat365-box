import{_ as e,u as l,z as s,l as a,o as t,i as o,a as n,b as i,d as c,e as d,C as r,F as u,v as g,I as m,T as v,f,w as h,k as p,q as b,r as V,x as $,j as T}from"./index-c546495b.js";import{_ as C}from"./whatsapp-19b64c33.js";import{N as L}from"./notification-e22d2085.js";import{g as y}from"./request-3cd6a12c.js";import{t as w}from"./translate-3857ea3a.js";const k={class:"settings-page"},S={class:"settings-header"},A={class:"header-title"},N={class:"settings-content"},U={class:"settings-sidebar"},_=["onClick"],P=["src"],B={class:"settings-main"},D={key:0,class:"translate-config"},j={class:"config-header"},x={class:"config-desc"},O={class:"config-body"},z={class:"platform-list"},M={class:"platform-title"},I={class:"config-form"},J={class:"config-section"},q={class:"section-title"},F={class:"section-tag"},R={class:"section-content"},W={class:"form-item"},E={class:"form-item-left"},G={class:"form-label"},H={class:"form-desc"},K={key:0,class:"form-row"},Q={class:"form-col"},X={class:"form-label"},Y={class:"form-col"},Z={class:"form-label"},ee={key:1,class:"form-item"},le={class:"form-item-left"},se={class:"form-label"},ae={class:"form-desc"},te={key:2,class:"form-row"},oe={class:"form-col"},ne={class:"form-label"},ie={class:"form-col"},ce={class:"form-label"},de={class:"form-col"},re={class:"form-label"},ue={class:"form-item"},ge={class:"form-item-left"},me={class:"form-label"},ve={class:"form-desc"},fe={class:"form-item"},he={class:"form-item-left"},pe={class:"form-label"},be={class:"form-desc"},Ve={class:"form-item"},$e={class:"form-item-left"},Te={class:"form-label"},Ce={class:"form-desc"},Le={class:"form-item form-none"},ye={class:"form-item-left"},we={class:"form-label"},ke={class:"form-desc"},Se={class:"form-row"},Ae={class:"form-col"},Ne={class:"form-label"},Ue={class:"form-col"},_e={class:"form-label"},Pe={class:"form-col"},Be={class:"form-label"},De={class:"config-section"},je={class:"section-title"},xe={class:"section-tag"},Oe={class:"section-content"},ze={class:"form-item"},Me={class:"form-item-left"},Ie={class:"form-label"},Je={class:"form-desc"},qe={class:"form-row"},Fe={class:"form-col"},Re={class:"form-label"},We={class:"form-col"},Ee={class:"form-label"},Ge={class:"form-item form-none"},He={class:"form-item-left"},Ke={class:"form-label"},Qe={class:"form-desc"},Xe={class:"form-row"},Ye={class:"form-col"},Ze={class:"form-label"},el={class:"form-col"},ll={class:"form-label"},sl={class:"form-col"},al={class:"form-label"},tl={class:"config-section"},ol={class:"section-title"},nl={class:"section-tag"},il={class:"section-content"},cl={class:"form-item"},dl={class:"form-item-left"},rl={class:"form-label"},ul={class:"form-desc"},gl={class:"form-actions"},ml=e({__name:"TranslateSettings",setup(e){l();const{t:ml}=s(),vl=a([{id:"translate",title:ml("settings.translateSettings"),icon:w}]),fl=a("translate"),hl=V({send:!0,receive:!0,chatList:!0,forward:!0}),pl=V({sendAutoTranslate:!0,sendChannel:"Baidu",sendTargetLang:"en",translatePreview:!1,blockChineseMessage:!1,blockChineseTranslation:!0,receiveAutoTranslate:!0,receiveChannel:"Baidu",receiveTargetLang:"zh",sendAutoNotTranslate:!1,sendAutoNotSourceLang:"en",sendAutoNotTargetLang:"zh",sendColoseChannel:"Baidu",sendVoiceSourceLang:"zh",sendVoiceTargetLang:"en",sendVoiceChannel:"Baidu",receiveVoiceSourceLang:"en",receiveVoiceTargetLang:"zh",receiveVoiceChannel:"Baidu",showTranslateConfig:!0}),bl=a([]);t(()=>{y("/app/languageList/languageList").then(e=>{200===e.code&&(bl.value=e.data)}).catch(e=>{console.error("获取语言列表失败:",e)}),o.invoke("get-translate-config").then(e=>{if(e)Object.assign(pl,e);else{const e=localStorage.getItem("translateConfig");e&&Object.assign(pl,JSON.parse(e))}})});const Vl=e=>{hl[e]=!hl[e]},$l=e=>{e||(pl.sendAutoNotTranslate=!0)},Tl=e=>{},Cl=e=>{e&&(pl.sendAutoTranslate=!0)},Ll=()=>{console.log("翻译配置config",pl),localStorage.setItem("translateConfig",JSON.stringify(pl)),o.invoke("save-translate-config",JSON.parse(JSON.stringify(pl))).then(e=>{console.log("配置已同步到主进程:",e)}),L.message({message:ml("settings.updateSuccess"),type:"success"})};return(e,l)=>{const s=n("el-switch"),a=n("el-option"),t=n("el-select"),o=n("el-button");return i(),c("div",k,[d("div",S,[d("span",A,r(e.$t("settings.title")),1)]),d("div",N,[d("div",U,[(i(!0),c(u,null,g(vl.value,e=>(i(),c("div",{key:e.id,class:$(["sidebar-item",{active:fl.value===e.id}]),onClick:l=>fl.value=e.id},[d("img",{src:e.icon,class:"sidebar-icon"},null,8,P),d("span",null,r(e.title),1)],10,_))),128))]),d("div",B,["translate"===fl.value?(i(),c("div",D,[d("div",j,[d("h3",null,r(e.$t("settings.translateConfig")),1),d("p",x,r(e.$t("settings.globalConfigDesc")),1)]),d("div",O,[d("div",z,[d("div",M,r(e.$t("settings.translateConfig")),1),l[23]||(l[23]=d("div",{class:"platform-item active"},[d("img",{src:C,class:"platform-icon"}),d("span",null,"WhatsApp")],-1))]),d("div",I,[d("div",J,[d("div",{class:"section-header",onClick:l[0]||(l[0]=e=>Vl("send"))},[d("span",q,r(e.$t("settings.sendSettings")),1),d("span",F,r(hl.send?e.$t("settings.collapse"):e.$t("settings.expand")),1)]),m(d("div",R,[d("div",W,[d("div",E,[d("div",G,[l[24]||(l[24]=d("span",{class:"label-dot"},null,-1)),d("span",null,r(e.$t("settings.sendAutoTranslate")),1)]),d("div",H,r(e.$t("settings.sendAutoTranslateDesc")),1)]),f(s,{modelValue:pl.sendAutoTranslate,"onUpdate:modelValue":l[1]||(l[1]=e=>pl.sendAutoTranslate=e),onChange:$l,style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),pl.sendAutoTranslate?(i(),c("div",K,[d("div",Q,[d("div",X,r(e.$t("settings.channel")),1),f(t,{modelValue:pl.sendChannel,"onUpdate:modelValue":l[2]||(l[2]=e=>pl.sendChannel=e),disabled:"",placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[f(a,{label:e.$t("settings.baidu"),value:"Baidu"},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),d("div",Y,[d("div",Z,r(e.$t("settings.targetLang")),1),f(t,{modelValue:pl.sendTargetLang,"onUpdate:modelValue":l[3]||(l[3]=e=>pl.sendTargetLang=e),placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[(i(!0),c(u,null,g(bl.value,e=>(i(),T(a,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])])])):p("",!0),pl.sendAutoTranslate?p("",!0):(i(),c("div",ee,[d("div",le,[d("div",se,r(e.$t("settings.sendMsgSettings")),1),d("div",ae,r(e.$t("settings.sendMsgSettingsDesc")),1)]),f(s,{modelValue:pl.sendAutoNotTranslate,"onUpdate:modelValue":l[4]||(l[4]=e=>pl.sendAutoNotTranslate=e),onChange:Tl,style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])])),pl.sendAutoTranslate?p("",!0):(i(),c("div",te,[d("div",oe,[d("div",ne,r(e.$t("settings.channel")),1),f(t,{modelValue:pl.sendColoseChannel,"onUpdate:modelValue":l[5]||(l[5]=e=>pl.sendColoseChannel=e),disabled:"",placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[f(a,{label:e.$t("settings.baidu"),value:"Baidu"},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),d("div",ie,[d("div",ce,r(e.$t("settings.sourceLang")),1),f(t,{modelValue:pl.sendAutoNotSourceLang,"onUpdate:modelValue":l[6]||(l[6]=e=>pl.sendAutoNotSourceLang=e),placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[(i(!0),c(u,null,g(bl.value,e=>(i(),T(a,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),d("div",de,[d("div",re,r(e.$t("settings.targetLang")),1),f(t,{modelValue:pl.sendAutoNotTargetlseLang,"onUpdate:modelValue":l[7]||(l[7]=e=>pl.sendAutoNotTargetlseLang=e),placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[(i(!0),c(u,null,g(bl.value,e=>(i(),T(a,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])])])),d("div",ue,[d("div",ge,[d("div",me,r(e.$t("settings.translatePreview")),1),d("div",ve,r(e.$t("settings.translatePreviewDesc")),1)]),f(s,{modelValue:pl.translatePreview,"onUpdate:modelValue":l[8]||(l[8]=e=>pl.translatePreview=e),onChange:Cl,style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),d("div",fe,[d("div",he,[d("div",pe,r(e.$t("settings.blockChinese")),1),d("div",be,r(e.$t("settings.blockChineseDesc")),1)]),f(s,{modelValue:pl.blockChineseMessage,"onUpdate:modelValue":l[9]||(l[9]=e=>pl.blockChineseMessage=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),d("div",Ve,[d("div",$e,[d("div",Te,r(e.$t("settings.blockChineseTrans")),1),d("div",Ce,r(e.$t("settings.blockChineseTransDesc")),1)]),f(s,{modelValue:pl.blockChineseTranslation,"onUpdate:modelValue":l[10]||(l[10]=e=>pl.blockChineseTranslation=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),d("div",Le,[d("div",ye,[d("div",we,[l[25]||(l[25]=d("span",{class:"label-dot"},null,-1)),b(r(e.$t("settings.voiceSendSettings")),1)]),d("div",ke,r(e.$t("settings.voiceTransDesc")),1)])]),d("div",Se,[d("div",Ae,[d("div",Ne,r(e.$t("settings.channel")),1),f(t,{modelValue:pl.sendVoiceChannel,"onUpdate:modelValue":l[11]||(l[11]=e=>pl.sendVoiceChannel=e),disabled:"",placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[f(a,{label:e.$t("settings.baidu"),value:"Baidu"},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),d("div",Ue,[d("div",_e,r(e.$t("settings.voiceSourceLang")),1),f(t,{modelValue:pl.sendVoiceSourceLang,"onUpdate:modelValue":l[12]||(l[12]=e=>pl.sendVoiceSourceLang=e),placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[(i(!0),c(u,null,g(bl.value,e=>(i(),T(a,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),d("div",Pe,[d("div",Be,r(e.$t("settings.voiceTargetLang")),1),f(t,{modelValue:pl.sendVoiceTargetLang,"onUpdate:modelValue":l[13]||(l[13]=e=>pl.sendVoiceTargetLang=e),placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[(i(!0),c(u,null,g(bl.value,e=>(i(),T(a,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])])])],512),[[v,hl.send]])]),d("div",De,[d("div",{class:"section-header",onClick:l[14]||(l[14]=e=>Vl("receive"))},[d("span",je,r(e.$t("settings.receiveSettings")),1),d("span",xe,r(hl.receive?e.$t("settings.collapse"):e.$t("settings.expand")),1)]),m(d("div",Oe,[d("div",ze,[d("div",Me,[d("div",Ie,[l[26]||(l[26]=d("span",{class:"label-dot"},null,-1)),d("span",null,r(e.$t("settings.receiveAutoTranslate")),1)]),d("div",Je,r(e.$t("settings.receiveAutoTranslateDesc")),1)]),f(s,{modelValue:pl.receiveAutoTranslate,"onUpdate:modelValue":l[15]||(l[15]=e=>pl.receiveAutoTranslate=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),d("div",qe,[d("div",Fe,[d("div",Re,r(e.$t("settings.channel")),1),f(t,{modelValue:pl.receiveChannel,"onUpdate:modelValue":l[16]||(l[16]=e=>pl.receiveChannel=e),disabled:"",placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[f(a,{label:e.$t("settings.baidu"),value:"Baidu"},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),d("div",We,[d("div",Ee,r(e.$t("settings.targetLang")),1),f(t,{modelValue:pl.receiveTargetLang,"onUpdate:modelValue":l[17]||(l[17]=e=>pl.receiveTargetLang=e),placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[(i(!0),c(u,null,g(bl.value,e=>(i(),T(a,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])])]),d("div",Ge,[d("div",He,[d("div",Ke,[l[27]||(l[27]=d("span",{class:"label-dot"},null,-1)),b(r(e.$t("settings.voiceReceiveSettings")),1)]),d("div",Qe,r(e.$t("settings.voiceTransDesc")),1)])]),d("div",Xe,[d("div",Ye,[d("div",Ze,r(e.$t("settings.channel")),1),f(t,{modelValue:pl.receiveVoiceChannel,"onUpdate:modelValue":l[18]||(l[18]=e=>pl.receiveVoiceChannel=e),disabled:"",placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[f(a,{label:e.$t("settings.baidu"),value:"Baidu"},null,8,["label"])]),_:1},8,["modelValue","placeholder"])]),d("div",el,[d("div",ll,r(e.$t("settings.voiceSourceLang")),1),f(t,{modelValue:pl.receiveVoiceSourceLang,"onUpdate:modelValue":l[19]||(l[19]=e=>pl.receiveVoiceSourceLang=e),placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[(i(!0),c(u,null,g(bl.value,e=>(i(),T(a,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),d("div",sl,[d("div",al,r(e.$t("settings.voiceTargetLang")),1),f(t,{modelValue:pl.receiveVoiceTargetLang,"onUpdate:modelValue":l[20]||(l[20]=e=>pl.receiveVoiceTargetLang=e),placeholder:e.$t("settings.selectPlaceholder")},{default:h(()=>[(i(!0),c(u,null,g(bl.value,e=>(i(),T(a,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])])])],512),[[v,hl.receive]])]),d("div",tl,[d("div",{class:"section-header",onClick:l[21]||(l[21]=e=>Vl("chatList"))},[d("span",ol,r(e.$t("settings.chatListSettings")),1),d("span",nl,r(hl.chatList?e.$t("settings.collapse"):e.$t("settings.expand")),1)]),m(d("div",il,[d("div",cl,[d("div",dl,[d("div",rl,r(e.$t("settings.showTranslateConfig")),1),d("div",ul,r(e.$t("settings.showTranslateConfigDesc")),1)]),f(s,{modelValue:pl.showTranslateConfig,"onUpdate:modelValue":l[22]||(l[22]=e=>pl.showTranslateConfig=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])])],512),[[v,hl.chatList]])]),d("div",gl,[f(o,{type:"primary",class:"apply-btn",onClick:Ll},{default:h(()=>[b(r(e.$t("settings.apply")),1)]),_:1})])])])])):p("",!0)])])])}}},[["__scopeId","data-v-5e1fe783"]]);export{ml as default};
