import{_ as e,u as l,o as a,i as s,a as o,b as t,d as n,e as i,F as d,v as c,A as r,E as m,R as u,f,w as v,k as g,l as b,r as p,x as h,j as V,q as C}from"./index-b58413e4.js";import{_ as T}from"./whatsapp-19b64c33.js";import{N as w}from"./notification-f2106fa5.js";import{g as y}from"./request-76ec87d8.js";import{t as k}from"./translate-3857ea3a.js";const A={class:"settings-page"},N={class:"settings-content"},L={class:"settings-sidebar"},U=["onClick"],_=["src"],S={class:"settings-main"},j={key:0,class:"translate-config"},B={class:"config-body"},O={class:"config-form"},J={class:"config-section"},x={class:"section-tag"},I={class:"section-content"},M={class:"form-item"},P={key:0,class:"form-row"},q={class:"form-col"},z={class:"form-col"},E={key:1,class:"form-item"},F={key:2,class:"form-row"},R={class:"form-col"},W={class:"form-col"},D={class:"form-col"},G={class:"form-item"},H={class:"form-item"},K={class:"form-item"},Q={class:"config-section"},X={class:"section-tag"},Y={class:"section-content"},Z={class:"form-item"},$={class:"form-row"},ee={class:"form-col"},le={class:"form-col"},ae={class:"config-section"},se={class:"section-tag"},oe={class:"section-content"},te={class:"form-item"},ne={class:"form-actions"},ie=e({__name:"TranslateSettings",setup(e){l();const ie=b([{id:"translate",title:"翻译设置",icon:k}]),de=b("translate"),ce=p({send:!0,receive:!0,chatList:!0,forward:!0}),re=p({sendAutoTranslate:!0,sendChannel:"Baidu",sendTargetLang:"en",translatePreview:!1,blockChineseMessage:!1,blockChineseTranslation:!0,receiveAutoTranslate:!0,receiveChannel:"Baidu",receiveTargetLang:"zh",sendAutoNotTranslate:!1,sendAutoNotSourceLang:"en",sendAutoNotTargetlseLang:"zh",sendColoseChannel:"Baidu",showTranslateConfig:!0}),me=b([]);a(()=>{y("/app/languageList/languageList").then(e=>{200===e.code&&(me.value=e.data)}).catch(e=>{console.error("获取语言列表失败:",e)}),s.invoke("get-translate-config").then(e=>{if(e)Object.assign(re,e);else{const e=localStorage.getItem("translateConfig");e&&Object.assign(re,JSON.parse(e))}})});const ue=e=>{ce[e]=!ce[e]},fe=e=>{e||(re.sendAutoNotTranslate=!0)},ve=e=>{},ge=e=>{e&&(re.sendAutoTranslate=!0)},be=()=>{console.log("翻译配置config",re),localStorage.setItem("translateConfig",JSON.stringify(re)),s.invoke("save-translate-config",JSON.parse(JSON.stringify(re))).then(e=>{console.log("配置已同步到主进程:",e)}),w.message({message:"更新成功",type:"success"})};return(e,l)=>{const a=o("el-switch"),s=o("el-option"),b=o("el-select"),p=o("el-button");return t(),n("div",A,[l[37]||(l[37]=i("div",{class:"settings-header"},[i("span",{class:"header-title"},"设置")],-1)),i("div",N,[i("div",L,[(t(!0),n(d,null,c(ie.value,e=>(t(),n("div",{key:e.id,class:h(["sidebar-item",{active:de.value===e.id}]),onClick:l=>de.value=e.id},[i("img",{src:e.icon,class:"sidebar-icon"},null,8,_),i("span",null,r(e.title),1)],10,U))),128))]),i("div",S,["translate"===de.value?(t(),n("div",j,[l[36]||(l[36]=i("div",{class:"config-header"},[i("h3",null,"翻译配置"),i("p",{class:"config-desc"},"以下设置将作为全局翻译配置")],-1)),i("div",B,[l[35]||(l[35]=i("div",{class:"platform-list"},[i("div",{class:"platform-title"},"翻译配置"),i("div",{class:"platform-item active"},[i("img",{src:T,class:"platform-icon"}),i("span",null,"WhatsApp")])],-1)),i("div",O,[i("div",J,[i("div",{class:"section-header",onClick:l[0]||(l[0]=e=>ue("send"))},[l[17]||(l[17]=i("span",{class:"section-title"},"发送翻译设置",-1)),i("span",x,r(ce.send?"折叠":"展开"),1)]),m(i("div",I,[i("div",M,[l[18]||(l[18]=i("div",{class:"form-item-left"},[i("div",{class:"form-label"},[i("span",{class:"label-dot"}),i("span",null,"发送自动翻译")]),i("div",{class:"form-desc"},"发送时是否自动翻译成目标语言")],-1)),f(a,{modelValue:re.sendAutoTranslate,"onUpdate:modelValue":l[1]||(l[1]=e=>re.sendAutoTranslate=e),onChange:fe,style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),re.sendAutoTranslate?(t(),n("div",P,[i("div",q,[l[19]||(l[19]=i("div",{class:"form-label"},"翻译通道",-1)),f(b,{modelValue:re.sendChannel,"onUpdate:modelValue":l[2]||(l[2]=e=>re.sendChannel=e),disabled:"",placeholder:"请选择"},{default:v(()=>[f(s,{label:"百度",value:"Baidu"})]),_:1},8,["modelValue"])]),i("div",z,[l[20]||(l[20]=i("div",{class:"form-label"},"目标语言",-1)),f(b,{modelValue:re.sendTargetLang,"onUpdate:modelValue":l[3]||(l[3]=e=>re.sendTargetLang=e),placeholder:"请选择"},{default:v(()=>[(t(!0),n(d,null,c(me.value,e=>(t(),V(s,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])):g("",!0),re.sendAutoTranslate?g("",!0):(t(),n("div",E,[l[21]||(l[21]=i("div",{class:"form-item-left"},[i("div",{class:"form-label"},"设置发送消息"),i("div",{class:"form-desc"},"发送自动翻译关闭，消息下面显示译文")],-1)),f(a,{modelValue:re.sendAutoNotTranslate,"onUpdate:modelValue":l[4]||(l[4]=e=>re.sendAutoNotTranslate=e),onChange:ve,style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])])),re.sendAutoTranslate?g("",!0):(t(),n("div",F,[i("div",R,[l[22]||(l[22]=i("div",{class:"form-label"},"翻译通道",-1)),f(b,{modelValue:re.sendColoseChannel,"onUpdate:modelValue":l[5]||(l[5]=e=>re.sendColoseChannel=e),disabled:"",placeholder:"请选择"},{default:v(()=>[f(s,{label:"百度",value:"Baidu"})]),_:1},8,["modelValue"])]),i("div",W,[l[23]||(l[23]=i("div",{class:"form-label"},"来源语言",-1)),f(b,{modelValue:re.sendAutoNotSourceLang,"onUpdate:modelValue":l[6]||(l[6]=e=>re.sendAutoNotSourceLang=e),placeholder:"请选择"},{default:v(()=>[(t(!0),n(d,null,c(me.value,e=>(t(),V(s,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),i("div",D,[l[24]||(l[24]=i("div",{class:"form-label"},"目标语言",-1)),f(b,{modelValue:re.sendAutoNotTargetlseLang,"onUpdate:modelValue":l[7]||(l[7]=e=>re.sendAutoNotTargetlseLang=e),placeholder:"请选择"},{default:v(()=>[(t(!0),n(d,null,c(me.value,e=>(t(),V(s,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])),i("div",G,[l[25]||(l[25]=i("div",{class:"form-item-left"},[i("div",{class:"form-label"},"翻译预览"),i("div",{class:"form-desc"},"发送前在输入框上方显示译文")],-1)),f(a,{modelValue:re.translatePreview,"onUpdate:modelValue":l[8]||(l[8]=e=>re.translatePreview=e),onChange:ge,style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),i("div",H,[l[26]||(l[26]=i("div",{class:"form-item-left"},[i("div",{class:"form-label"},"禁止发送含中文的消息"),i("div",{class:"form-desc"},"开启后禁止发送中文消息，禁止发送")],-1)),f(a,{modelValue:re.blockChineseMessage,"onUpdate:modelValue":l[9]||(l[9]=e=>re.blockChineseMessage=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),i("div",K,[l[27]||(l[27]=i("div",{class:"form-item-left"},[i("div",{class:"form-label"},"禁止发送含中文的翻译"),i("div",{class:"form-desc"},"当翻译结果包含中文时，禁止发送")],-1)),f(a,{modelValue:re.blockChineseTranslation,"onUpdate:modelValue":l[10]||(l[10]=e=>re.blockChineseTranslation=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])])],512),[[u,ce.send]])]),i("div",Q,[i("div",{class:"section-header",onClick:l[11]||(l[11]=e=>ue("receive"))},[l[28]||(l[28]=i("span",{class:"section-title"},"消息接收设置",-1)),i("span",X,r(ce.receive?"折叠":"展开"),1)]),m(i("div",Y,[i("div",Z,[l[29]||(l[29]=i("div",{class:"form-item-left"},[i("div",{class:"form-label"},[i("span",{class:"label-dot"}),i("span",null,"接收自动翻译")]),i("div",{class:"form-desc"},"收到消息时自动翻译成目标语言")],-1)),f(a,{modelValue:re.receiveAutoTranslate,"onUpdate:modelValue":l[12]||(l[12]=e=>re.receiveAutoTranslate=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])]),i("div",$,[i("div",ee,[l[30]||(l[30]=i("div",{class:"form-label"},"翻译通道",-1)),f(b,{modelValue:re.receiveChannel,"onUpdate:modelValue":l[13]||(l[13]=e=>re.receiveChannel=e),disabled:"",placeholder:"请选择"},{default:v(()=>[f(s,{label:"百度",value:"Baidu"})]),_:1},8,["modelValue"])]),i("div",le,[l[31]||(l[31]=i("div",{class:"form-label"},"目标语言",-1)),f(b,{modelValue:re.receiveTargetLang,"onUpdate:modelValue":l[14]||(l[14]=e=>re.receiveTargetLang=e),placeholder:"请选择"},{default:v(()=>[(t(!0),n(d,null,c(me.value,e=>(t(),V(s,{key:e.id,label:e.displayName,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])],512),[[u,ce.receive]])]),i("div",ae,[i("div",{class:"section-header",onClick:l[15]||(l[15]=e=>ue("chatList"))},[l[32]||(l[32]=i("span",{class:"section-title"},"聊天列表翻译",-1)),i("span",se,r(ce.chatList?"折叠":"展开"),1)]),m(i("div",oe,[i("div",te,[l[33]||(l[33]=i("div",{class:"form-item-left"},[i("div",{class:"form-label"},"会话列表显示翻译配置"),i("div",{class:"form-desc"},"在聊天窗口上显示和切换翻译语言")],-1)),f(a,{modelValue:re.showTranslateConfig,"onUpdate:modelValue":l[16]||(l[16]=e=>re.showTranslateConfig=e),style:{"--el-switch-on-color":"#2ed36a","--el-switch-off-color":"#bfbfbf"}},null,8,["modelValue"])])],512),[[u,ce.chatList]])]),i("div",ne,[f(p,{type:"primary",class:"apply-btn",onClick:be},{default:v(()=>[...l[34]||(l[34]=[C("应用",-1)])]),_:1})])])])])):g("",!0)])])])}}},[["__scopeId","data-v-b148d2a6"]]);export{ie as default};
