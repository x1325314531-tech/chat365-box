import{_ as e,u as a,s as l,t,o,a as s,b as n,j as i,w as r,f as u,e as c,d,v as m,x as p,F as h,l as f,i as v}from"./index-8edf87e8.js";import{_ as g}from"./whatsapp-19b64c33.js";import{d as w}from"./request-494fa7e4.js";const _=""+new URL("quit-3cb84461.svg",import.meta.url).href,b=""+new URL("index-0acd3fb4.svg",import.meta.url).href,k={class:"nav-container"},x=["onClick"],I=["src"],j=e({__name:"Index",setup(e){const j=a(),y=l(),C="controller.window.hideWindow",q="controller.window.logout",A=[{id:"home",icon:b,path:"/home"},{id:"whatsApp",icon:g,path:"/home/whatsapp"}],K=f("home"),L=()=>{const e=y.path;"/home"===e||"/home/"===e?K.value="home":e.includes("whatsapp")?K.value="whatsApp":e.includes("telegramK")?K.value="telegramK":e.includes("telegram")?K.value="telegram":K.value=""};function R(){w("/app/account/logout").then(e=>{200===e.code&&v.invoke(q,{}).then(()=>{localStorage.removeItem("box-token"),localStorage.removeItem("userInfo"),j.push("/login")})}).catch(e=>{console.error("退出失败:",e)})}return t(()=>y.path,()=>{L()}),o(()=>{L()}),(e,a)=>{const l=s("el-icon"),t=s("el-aside"),o=s("router-view"),f=s("el-main"),g=s("el-container");return n(),i(g,{style:{height:"100vh"}},{default:r(()=>[u(t,{width:"50px",class:"aside-menu"},{default:r(()=>[c("div",k,[(n(),d(h,null,m(A,e=>c("div",{key:e.id,class:p(["nav-item",{active:K.value===e.id}]),onClick:a=>function(e){if(K.value===e)return;v.invoke(C,{platform:e});const a=A.find(a=>a.id===e);a&&j.push(a.path)}(e.id)},[u(l,null,{default:r(()=>[c("img",{src:e.icon,class:"platform-svg",draggable:"false"},null,8,I)]),_:2},1024)],10,x)),64))]),c("div",{class:"logout-button",onClick:R},[u(l,null,{default:r(()=>[...a[0]||(a[0]=[c("img",{src:_,class:"platform-svg",draggable:"false"},null,-1)])]),_:1})])]),_:1}),u(g,null,{default:r(()=>[u(f,{style:{padding:"0",overflow:"hidden"}},{default:r(()=>[u(o)]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-a9608af1"]]);export{j as default};
